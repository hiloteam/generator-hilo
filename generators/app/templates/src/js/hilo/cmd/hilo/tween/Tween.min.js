/**
 * Hilo 1.1.10 for cmd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define(function(e,t,r){var a=e("hilo/core/Class"),n=function(){function e(){return+new Date}return a.create({constructor:function(e,t,r,a){var n=this;n.target=e,n._startTime=0,n._seekTime=0,n._pausedTime=0,n._pausedStartTime=0,n._reverseFlag=1,n._repeatCount=0,3==arguments.length&&(a=r,r=t,t=null);for(var i in a)n[i]=a[i];n._fromProps=t,n._toProps=r,!a.duration&&a.time&&(n.duration=a.time||0,n.time=0)},target:null,duration:1e3,delay:0,paused:!1,loop:!1,reverse:!1,repeat:0,repeatDelay:0,ease:null,time:0,isStart:!1,onStart:null,onUpdate:null,onComplete:null,setProps:function(e,t){var r=this,a=r.target,n=e||t,i=r._fromProps={},s=r._toProps={};e=e||a,t=t||a;for(var o in n)s[o]=t[o]||0,a[o]=i[o]=e[o]||0;return r},start:function(){var t=this;return t._startTime=e()+t.delay,t._seekTime=0,t._pausedTime=0,t.paused=!1,n.add(t),t},stop:function(){return n.remove(this),this},pause:function(){var t=this;return t.paused=!0,t._pausedStartTime=e(),t},resume:function(){var t=this;return t.paused=!1,t._pausedStartTime&&(t._pausedTime+=e()-t._pausedStartTime),t._pausedStartTime=0,t},seek:function(t,r){var a=this,i=e();return a._startTime=i,a._seekTime=t,a._pausedTime=0,void 0!==r&&(a.paused=r),a._update(i,!0),n.add(a),a},link:function(e){var t,r,a=this,i=e.delay,s=a._startTime;return"string"==typeof i&&(t=0==i.indexOf("+"),r=0==i.indexOf("-"),i=t||r?Number(i.substr(1))*(t?1:-1):Number(i)),e.delay=i,e._startTime=t||r?s+a.duration+i:s+i,a._next=e,n.remove(e),e},_render:function(e){var t,r=this,a=r.target,n=r._fromProps;for(t in n)a[t]=n[t]+(r._toProps[t]-n[t])*e},_update:function(t,r){var a=this;if(!a.paused||r){var i=t-a._startTime-a._pausedTime+a._seekTime;if(!(i<0)){var s,o=i/a.duration,u=!1;o=o<=0?0:o>=1?1:o;var p=a.ease?a.ease(o):o;a.reverse&&(a._reverseFlag<0&&(o=1-o,p=1-p),o<1e-7&&(a.repeat>0&&a._repeatCount++>=a.repeat||0==a.repeat&&!a.loop?u=!0:(a._startTime=e(),a._pausedTime=0,a._reverseFlag*=-1))),a.isStart||(a.setProps(a._fromProps,a._toProps),a.isStart=!0,a.onStart&&a.onStart.call(a,a)),a.time=i,a._render(p),(s=a.onUpdate)&&s.call(a,o,a),o>=1&&(a.reverse?(a._startTime=e(),a._pausedTime=0,a._reverseFlag*=-1):a.loop||a.repeat>0&&a._repeatCount++<a.repeat?(a._startTime=e()+a.repeatDelay,a._pausedTime=0):u=!0);var _=a._next;if(_&&_.time<=0){var l=_._startTime;l>0&&l<=t?(_._render(o),_.time=i,n.add(_)):u&&(l<0||l>t)&&_.start()}return u?((s=a.onComplete)&&s.call(a,a),!0):void 0}}},Statics:{_tweens:[],tick:function(){var t,r,a=n._tweens,i=a.length;for(r=0;r<i;r++)t=a[r],t&&t._update(e())&&(a.splice(r,1),r--);return n},add:function(e){var t=n._tweens;return t.indexOf(e)==-1&&t.push(e),n},remove:function(e){var t,r;if(e instanceof Array){for(t=0,r=e.length;t<r;t++)n.remove(e[t]);return n}var a=n._tweens;if(e instanceof n)t=a.indexOf(e),t>-1&&a.splice(t,1);else for(t=0;t<a.length;t++)a[t].target===e&&(a.splice(t,1),t--);return n},removeAll:function(){return n._tweens.length=0,n},fromTo:function(e,t,r,a){a=a||{};var i=e instanceof Array;e=i?e:[e];var s,o,u=a.stagger,p=[];for(o=0;o<e.length;o++)s=new n(e[o],t,r,a),u&&(s.delay=(a.delay||0)+(o*u||0)),s.start(),p.push(s);return i?p:s},to:function(e,t,r){return n.fromTo(e,null,t,r)},from:function(e,t,r){return n.fromTo(e,t,null,r)}}})}();return n});