/**
 * Hilo 1.1.7 for cmd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define(function(t,e,n){var r=t("hilo/core/Hilo"),a={_isDragStart:!1,startDrag:function(t){function e(t){t.stopPropagation(),i(t),s.off(r.event.POINTER_START,e),s.__dragX=s.x-g.x,s.__dragY=s.y-g.y,_||(_=this.getStage()),_.on(r.event.POINTER_MOVE,a),document.addEventListener(r.event.POINTER_END,n),s.fire("dragStart",g)}function n(t){document.removeEventListener(r.event.POINTER_END,n),_&&_.off(r.event.POINTER_MOVE,a),s.on(r.event.POINTER_START,e),s.fire("dragEnd",g)}function a(t){i(t);var e=g.x+s.__dragX,n=g.y+s.__dragY;s.x=Math.max(f,Math.min(E,e)),s.y=Math.max(v,Math.min(T,n)),s.fire("dragMove",g)}function i(t){g.preX=g.x,g.preY=g.y,g.x=t.stageX,g.y=t.stageY}function o(){this._isDragStart=!1,document.removeEventListener(r.event.POINTER_END,n),_&&_.off(r.event.POINTER_MOVE,a),s.off(r.event.POINTER_START,e)}this._isDragStart&&this.stopDrag(),this._isDragStart=!0;var _,s=this;t=t||[-(1/0),-(1/0),1/0,1/0];var g={x:0,y:0,preX:0,preY:0},f=t[0],v=t[1],E=t[2]==1/0?1/0:f+t[2],T=t[3]==1/0?1/0:v+t[3];s.on(r.event.POINTER_START,e),s.stopDrag=o},stopDrag:function(){this._isDragStart=!1}};return a});