/**
 * Hilo 1.1.7 for amd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define("hilo/core/Hilo",["hilo/util/browser","hilo/util/util"],function(t,e){var o=window,a=document,n=a.documentElement,r=0,i={},s={version:"1.1.7",getUid:function(t){var e=++r;if(t){var o=t.charCodeAt(t.length-1);return o>=48&&o<=57&&(t+="_"),t+e}return e},viewToString:function(t){for(var e,o=t;o;)e=e?o.id+"."+e:o.id,o=o.parent;return e},copy:function(t,o,a){return e.copy(t,o,a),i.copy||(i.copy=!0,console.warn("Hilo.copy has been Deprecated! Use Hilo.util.copy instead.")),t},browser:t,event:function(){var t="ontouchstart"in o;return{POINTER_START:t?"touchstart":"mousedown",POINTER_MOVE:t?"touchmove":"mousemove",POINTER_END:t?"touchend":"mouseup"}}(),align:{TOP_LEFT:"TL",TOP:"T",TOP_RIGHT:"TR",LEFT:"L",CENTER:"C",RIGHT:"R",BOTTOM_LEFT:"BL",BOTTOM:"B",BOTTOM_RIGHT:"BR"},getElementRect:function(t){var e;try{e=t.getBoundingClientRect()}catch(a){e={top:t.offsetTop,left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,bottom:t.offsetTop+t.offsetHeight}}var r=(o.pageXOffset||n.scrollLeft)-(n.clientLeft||0)||0,i=(o.pageYOffset||n.scrollTop)-(n.clientTop||0)||0,s=o.getComputedStyle?getComputedStyle(t):t.currentStyle,c=parseInt,h=c(s.paddingLeft)+c(s.borderLeftWidth)||0,d=c(s.paddingTop)+c(s.borderTopWidth)||0,f=c(s.paddingRight)+c(s.borderRightWidth)||0,l=c(s.paddingBottom)+c(s.borderBottomWidth)||0,g=e.top||0,p=e.left||0,u=e.right||0,m=e.bottom||0;return{left:p+r+h,top:g+i+d,width:u-f-p-h,height:m-l-g-d}},createElement:function(t,e){var o,n,r,i=a.createElement(t);for(o in e)if(n=e[o],"style"===o)for(r in n)i.style[r]=n[r];else i[o]=n;return i},getElement:function(t){return a.getElementById(t)},setElementStyleByView:function(t){var e=t.drawable,o=e.domElement.style,a=t._stateCache||(t._stateCache={}),n=s.browser.jsVendor,r="px",i=!1;if(this.cacheStateIfChanged(t,["visible"],a)&&(o.display=t.visible?"":"none"),this.cacheStateIfChanged(t,["alpha"],a)&&(o.opacity=t.alpha),t.visible&&!(t.alpha<=0)){this.cacheStateIfChanged(t,["width"],a)&&(o.width=t.width+r),this.cacheStateIfChanged(t,["height"],a)&&(o.height=t.height+r),this.cacheStateIfChanged(t,["depth"],a)&&(o.zIndex=t.depth+1),(i=this.cacheStateIfChanged(t,["pivotX","pivotY"],a))&&(o[n+"TransformOrigin"]=t.pivotX+r+" "+t.pivotY+r),(this.cacheStateIfChanged(t,["x","y","rotation","scaleX","scaleY"],a)||i)&&(o[n+"Transform"]=this.getTransformCSS(t)),this.cacheStateIfChanged(t,["background"],a)&&(o.backgroundColor=t.background),o.pointerEvents||(o.pointerEvents="none");var c=e.image;if(c){var h=c.src;h!==a.image&&(a.image=h,o.backgroundImage="url("+h+")");var d=e.rect;if(d){var f=d[0],l=d[1];f!==a.sx&&(a.sx=f,o.backgroundPositionX=-f+r),l!==a.sy&&(a.sy=l,o.backgroundPositionY=-l+r)}}var g=t.mask;if(g){var p=g.drawable.domElement.style.backgroundImage;p!==a.maskImage&&(a.maskImage=p,o[n+"MaskImage"]=p,o[n+"MaskRepeat"]="no-repeat");var u=g.x,m=g.y;u===a.maskX&&m===a.maskY||(a.maskX=u,a.maskY=m,o[n+"MaskPosition"]=u+r+" "+m+r)}}},cacheStateIfChanged:function(t,e,o){var a,n,r,i,s=!1;for(a=0,n=e.length;a<n;a++)r=e[a],i=t[r],i!=o[r]&&(o[r]=i,s=!0);return s},getTransformCSS:function(t){var e=this.browser.supportTransform3D,o=e?"3d":"";return"translate"+o+"("+(t.x-t.pivotX)+"px, "+(t.y-t.pivotY)+(e?"px, 0px)":"px)")+"rotate"+o+(e?"(0, 0, 1, ":"(")+t.rotation+"deg)scale"+o+"("+t.scaleX+", "+t.scaleY+(e?", 1)":")")}};return s});