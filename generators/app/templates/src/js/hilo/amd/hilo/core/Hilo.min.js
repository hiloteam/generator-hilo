/**
 * Hilo 1.1.10 for amd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define("hilo/core/Hilo",["hilo/util/browser","hilo/util/util"],function(e,t){var a=window,o=document,r=o.documentElement,n=0,i={},s={version:"1.1.10",getUid:function(e){var t=++n;if(e){var a=e.charCodeAt(e.length-1);return a>=48&&a<=57&&(e+="_"),e+t}return t},viewToString:function(e){for(var t,a=e;a;)t=t?a.id+"."+t:a.id,a=a.parent;return t},copy:function(e,a,o){return t.copy(e,a,o),i.copy||(i.copy=!0,console.warn("Hilo.copy has been Deprecated! Use Hilo.util.copy instead.")),e},browser:e,event:{POINTER_START:e.POINTER_START,POINTER_MOVE:e.POINTER_MOVE,POINTER_END:e.POINTER_END},align:{TOP_LEFT:"TL",TOP:"T",TOP_RIGHT:"TR",LEFT:"L",CENTER:"C",RIGHT:"R",BOTTOM_LEFT:"BL",BOTTOM:"B",BOTTOM_RIGHT:"BR"},getElementRect:function(e){var t;try{t=e.getBoundingClientRect()}catch(o){t={top:e.offsetTop,left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,bottom:e.offsetTop+e.offsetHeight}}var n=(a.pageXOffset||r.scrollLeft)-(r.clientLeft||0)||0,i=(a.pageYOffset||r.scrollTop)-(r.clientTop||0)||0,s=a.getComputedStyle?getComputedStyle(e):e.currentStyle,c=parseInt,h=c(s.paddingLeft)+c(s.borderLeftWidth)||0,d=c(s.paddingTop)+c(s.borderTopWidth)||0,f=c(s.paddingRight)+c(s.borderRightWidth)||0,l=c(s.paddingBottom)+c(s.borderBottomWidth)||0,g=t.top||0,p=t.left||0,T=t.right||0,m=t.bottom||0;return{left:p+n+h,top:g+i+d,width:T-f-p-h,height:m-l-g-d}},createElement:function(e,t){var a,r,n,i=o.createElement(e);for(a in t)if(r=t[a],"style"===a)for(n in r)i.style[n]=r[n];else i[a]=r;return i},getElement:function(e){return o.getElementById(e)},setElementStyleByView:function(e){var t=e.drawable,a=t.domElement.style,o=e._stateCache||(e._stateCache={}),r=s.browser.jsVendor,n="px",i=!1;if(this.cacheStateIfChanged(e,["visible"],o)&&(a.display=e.visible?"":"none"),this.cacheStateIfChanged(e,["alpha"],o)&&(a.opacity=e.alpha),e.visible&&!(e.alpha<=0)){this.cacheStateIfChanged(e,["width"],o)&&(a.width=e.width+n),this.cacheStateIfChanged(e,["height"],o)&&(a.height=e.height+n),this.cacheStateIfChanged(e,["depth"],o)&&(a.zIndex=e.depth+1),(i=this.cacheStateIfChanged(e,["pivotX","pivotY"],o))&&(a[r+"TransformOrigin"]=e.pivotX+n+" "+e.pivotY+n),(this.cacheStateIfChanged(e,["x","y","rotation","scaleX","scaleY"],o)||i)&&(a[r+"Transform"]=this.getTransformCSS(e)),this.cacheStateIfChanged(e,["background"],o)&&(a.backgroundColor=e.background),a.pointerEvents||(a.pointerEvents="none");var c=t.image;if(c){var h=c.src;h!==o.image&&(o.image=h,a.backgroundImage="url("+h+")");var d=t.rect;if(d){var f=d[0],l=d[1];f!==o.sx&&(o.sx=f,a.backgroundPositionX=-f+n),l!==o.sy&&(o.sy=l,a.backgroundPositionY=-l+n)}}var g=e.mask;if(g){var p=g.drawable.domElement.style.backgroundImage;p!==o.maskImage&&(o.maskImage=p,a[r+"MaskImage"]=p,a[r+"MaskRepeat"]="no-repeat");var T=g.x,m=g.y;T===o.maskX&&m===o.maskY||(o.maskX=T,o.maskY=m,a[r+"MaskPosition"]=T+n+" "+m+n)}}},cacheStateIfChanged:function(e,t,a){var o,r,n,i,s=!1;for(o=0,r=t.length;o<r;o++)n=t[o],i=e[n],i!=a[n]&&(a[n]=i,s=!0);return s},getTransformCSS:function(e){var t=this.browser.supportTransform3D,a=t?"3d":"";return"translate"+a+"("+(e.x-e.pivotX)+"px, "+(e.y-e.pivotY)+(t?"px, 0px)":"px)")+"rotate"+a+(t?"(0, 0, 1, ":"(")+e.rotation+"deg)scale"+a+"("+e.scaleX+", "+e.scaleY+(t?", 1)":")")}};return s});