/**
 * Hilo 1.1.7 for cmd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define(function(t,e,a){var o=t("hilo/util/browser"),n=t("hilo/util/util"),r=window,i=document,s=i.documentElement,c=0,h={},d={version:"1.1.7",getUid:function(t){var e=++c;if(t){var a=t.charCodeAt(t.length-1);return a>=48&&a<=57&&(t+="_"),t+e}return e},viewToString:function(t){for(var e,a=t;a;)e=e?a.id+"."+e:a.id,a=a.parent;return e},copy:function(t,e,a){return n.copy(t,e,a),h.copy||(h.copy=!0,console.warn("Hilo.copy has been Deprecated! Use Hilo.util.copy instead.")),t},browser:o,event:function(){var t="ontouchstart"in r;return{POINTER_START:t?"touchstart":"mousedown",POINTER_MOVE:t?"touchmove":"mousemove",POINTER_END:t?"touchend":"mouseup"}}(),align:{TOP_LEFT:"TL",TOP:"T",TOP_RIGHT:"TR",LEFT:"L",CENTER:"C",RIGHT:"R",BOTTOM_LEFT:"BL",BOTTOM:"B",BOTTOM_RIGHT:"BR"},getElementRect:function(t){var e;try{e=t.getBoundingClientRect()}catch(a){e={top:t.offsetTop,left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,bottom:t.offsetTop+t.offsetHeight}}var o=(r.pageXOffset||s.scrollLeft)-(s.clientLeft||0)||0,n=(r.pageYOffset||s.scrollTop)-(s.clientTop||0)||0,i=r.getComputedStyle?getComputedStyle(t):t.currentStyle,c=parseInt,h=c(i.paddingLeft)+c(i.borderLeftWidth)||0,d=c(i.paddingTop)+c(i.borderTopWidth)||0,f=c(i.paddingRight)+c(i.borderRightWidth)||0,l=c(i.paddingBottom)+c(i.borderBottomWidth)||0,g=e.top||0,p=e.left||0,u=e.right||0,m=e.bottom||0;return{left:p+o+h,top:g+n+d,width:u-f-p-h,height:m-l-g-d}},createElement:function(t,e){var a,o,n,r=i.createElement(t);for(a in e)if(o=e[a],"style"===a)for(n in o)r.style[n]=o[n];else r[a]=o;return r},getElement:function(t){return i.getElementById(t)},setElementStyleByView:function(t){var e=t.drawable,a=e.domElement.style,o=t._stateCache||(t._stateCache={}),n=d.browser.jsVendor,r="px",i=!1;if(this.cacheStateIfChanged(t,["visible"],o)&&(a.display=t.visible?"":"none"),this.cacheStateIfChanged(t,["alpha"],o)&&(a.opacity=t.alpha),t.visible&&!(t.alpha<=0)){this.cacheStateIfChanged(t,["width"],o)&&(a.width=t.width+r),this.cacheStateIfChanged(t,["height"],o)&&(a.height=t.height+r),this.cacheStateIfChanged(t,["depth"],o)&&(a.zIndex=t.depth+1),(i=this.cacheStateIfChanged(t,["pivotX","pivotY"],o))&&(a[n+"TransformOrigin"]=t.pivotX+r+" "+t.pivotY+r),(this.cacheStateIfChanged(t,["x","y","rotation","scaleX","scaleY"],o)||i)&&(a[n+"Transform"]=this.getTransformCSS(t)),this.cacheStateIfChanged(t,["background"],o)&&(a.backgroundColor=t.background),a.pointerEvents||(a.pointerEvents="none");var s=e.image;if(s){var c=s.src;c!==o.image&&(o.image=c,a.backgroundImage="url("+c+")");var h=e.rect;if(h){var f=h[0],l=h[1];f!==o.sx&&(o.sx=f,a.backgroundPositionX=-f+r),l!==o.sy&&(o.sy=l,a.backgroundPositionY=-l+r)}}var g=t.mask;if(g){var p=g.drawable.domElement.style.backgroundImage;p!==o.maskImage&&(o.maskImage=p,a[n+"MaskImage"]=p,a[n+"MaskRepeat"]="no-repeat");var u=g.x,m=g.y;u===o.maskX&&m===o.maskY||(o.maskX=u,o.maskY=m,a[n+"MaskPosition"]=u+r+" "+m+r)}}},cacheStateIfChanged:function(t,e,a){var o,n,r,i,s=!1;for(o=0,n=e.length;o<n;o++)r=e[o],i=t[r],i!=a[r]&&(a[r]=i,s=!0);return s},getTransformCSS:function(t){var e=this.browser.supportTransform3D,a=e?"3d":"";return"translate"+a+"("+(t.x-t.pivotX)+"px, "+(t.y-t.pivotY)+(e?"px, 0px)":"px)")+"rotate"+a+(e?"(0, 0, 1, ":"(")+t.rotation+"deg)scale"+a+"("+t.scaleX+", "+t.scaleY+(e?", 1)":")")}};return d});