/**
 * Hilo 1.0.0 for commonjs
 * Copyright 2015 alibaba.com
 * Licensed under the MIT License
 */
var Class=require("../core/Class"),ScriptLoader=Class.create({load:function(r){var e=this,a=r.src,n="jsonp"==r.type;if(n){var o=r.callbackName||"callback",t=r.callback||"jsonp"+ ++ScriptLoader._count,c=window;c[t]||(c[t]=function(r){delete c[t]})}n&&(a+=(-1==a.indexOf("?")?"?":"&")+o+"="+t),r.noCache&&(a+=(-1==a.indexOf("?")?"?":"&")+"t="+ +new Date);var d=document.createElement("script");d.type="text/javascript",d.async=!0,d.onload=e.onLoad.bind(e),d.onerror=e.onError.bind(e),d.src=a,r.id&&(d.id=r.id),document.getElementsByTagName("head")[0].appendChild(d)},onLoad:function(r){var e=r.target;return e.onload=e.onerror=null,e},onError:function(r){var e=r.target;return e.onload=e.onerror=null,r},Statics:{_count:0}});module.exports=ScriptLoader;