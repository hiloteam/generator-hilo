/**
 * Hilo 1.0.0 for commonjs
 * Copyright 2015 alibaba.com
 * Licensed under the MIT License
 */
var Class=require("../core/Class"),ImageLoader=Class.create({load:function(r){var o=this,n=new Image;r.crossOrigin&&(n.crossOrigin=r.crossOrigin),n.onload=function(){o.onLoad(n)},n.onerror=n.onabort=o.onError.bind(n),n.src=r.src+(r.noCache?(-1==r.src.indexOf("?")?"?":"&")+"t="+ +new Date:"")},onLoad:function(r){r=r||window.event;var o=r;return o.onload=o.onerror=o.onabort=null,o},onError:function(r){var o=r.target;return o.onload=o.onerror=o.onabort=null,r}});module.exports=ImageLoader;