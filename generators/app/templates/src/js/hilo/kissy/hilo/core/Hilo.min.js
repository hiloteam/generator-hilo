/**
 * Hilo 1.1.7 for kissy
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
KISSY.add("hilo/core/Hilo",function(t,e,o){var a=window,r=document,n=r.documentElement,i=0,s={},c={version:"1.1.7",getUid:function(t){var e=++i;if(t){var o=t.charCodeAt(t.length-1);return o>=48&&o<=57&&(t+="_"),t+e}return e},viewToString:function(t){for(var e,o=t;o;)e=e?o.id+"."+e:o.id,o=o.parent;return e},copy:function(t,e,a){return o.copy(t,e,a),s.copy||(s.copy=!0,console.warn("Hilo.copy has been Deprecated! Use Hilo.util.copy instead.")),t},browser:e,event:function(){var t="ontouchstart"in a;return{POINTER_START:t?"touchstart":"mousedown",POINTER_MOVE:t?"touchmove":"mousemove",POINTER_END:t?"touchend":"mouseup"}}(),align:{TOP_LEFT:"TL",TOP:"T",TOP_RIGHT:"TR",LEFT:"L",CENTER:"C",RIGHT:"R",BOTTOM_LEFT:"BL",BOTTOM:"B",BOTTOM_RIGHT:"BR"},getElementRect:function(t){var e;try{e=t.getBoundingClientRect()}catch(o){e={top:t.offsetTop,left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,bottom:t.offsetTop+t.offsetHeight}}var r=(a.pageXOffset||n.scrollLeft)-(n.clientLeft||0)||0,i=(a.pageYOffset||n.scrollTop)-(n.clientTop||0)||0,s=a.getComputedStyle?getComputedStyle(t):t.currentStyle,c=parseInt,h=c(s.paddingLeft)+c(s.borderLeftWidth)||0,d=c(s.paddingTop)+c(s.borderTopWidth)||0,f=c(s.paddingRight)+c(s.borderRightWidth)||0,l=c(s.paddingBottom)+c(s.borderBottomWidth)||0,g=e.top||0,p=e.left||0,u=e.right||0,m=e.bottom||0;return{left:p+r+h,top:g+i+d,width:u-f-p-h,height:m-l-g-d}},createElement:function(t,e){var o,a,n,i=r.createElement(t);for(o in e)if(a=e[o],"style"===o)for(n in a)i.style[n]=a[n];else i[o]=a;return i},getElement:function(t){return r.getElementById(t)},setElementStyleByView:function(t){var e=t.drawable,o=e.domElement.style,a=t._stateCache||(t._stateCache={}),r=c.browser.jsVendor,n="px",i=!1;if(this.cacheStateIfChanged(t,["visible"],a)&&(o.display=t.visible?"":"none"),this.cacheStateIfChanged(t,["alpha"],a)&&(o.opacity=t.alpha),t.visible&&!(t.alpha<=0)){this.cacheStateIfChanged(t,["width"],a)&&(o.width=t.width+n),this.cacheStateIfChanged(t,["height"],a)&&(o.height=t.height+n),this.cacheStateIfChanged(t,["depth"],a)&&(o.zIndex=t.depth+1),(i=this.cacheStateIfChanged(t,["pivotX","pivotY"],a))&&(o[r+"TransformOrigin"]=t.pivotX+n+" "+t.pivotY+n),(this.cacheStateIfChanged(t,["x","y","rotation","scaleX","scaleY"],a)||i)&&(o[r+"Transform"]=this.getTransformCSS(t)),this.cacheStateIfChanged(t,["background"],a)&&(o.backgroundColor=t.background),o.pointerEvents||(o.pointerEvents="none");var s=e.image;if(s){var h=s.src;h!==a.image&&(a.image=h,o.backgroundImage="url("+h+")");var d=e.rect;if(d){var f=d[0],l=d[1];f!==a.sx&&(a.sx=f,o.backgroundPositionX=-f+n),l!==a.sy&&(a.sy=l,o.backgroundPositionY=-l+n)}}var g=t.mask;if(g){var p=g.drawable.domElement.style.backgroundImage;p!==a.maskImage&&(a.maskImage=p,o[r+"MaskImage"]=p,o[r+"MaskRepeat"]="no-repeat");var u=g.x,m=g.y;u===a.maskX&&m===a.maskY||(a.maskX=u,a.maskY=m,o[r+"MaskPosition"]=u+n+" "+m+n)}}},cacheStateIfChanged:function(t,e,o){var a,r,n,i,s=!1;for(a=0,r=e.length;a<r;a++)n=e[a],i=t[n],i!=o[n]&&(o[n]=i,s=!0);return s},getTransformCSS:function(t){var e=this.browser.supportTransform3D,o=e?"3d":"";return"translate"+o+"("+(t.x-t.pivotX)+"px, "+(t.y-t.pivotY)+(e?"px, 0px)":"px)")+"rotate"+o+(e?"(0, 0, 1, ":"(")+t.rotation+"deg)scale"+o+"("+t.scaleX+", "+t.scaleY+(e?", 1)":")")}};return c},{requires:["hilo/util/browser","hilo/util/util"]});