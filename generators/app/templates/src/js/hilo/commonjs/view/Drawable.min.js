/**
 * Hilo 1.1.7 for commonjs
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
var Class=require("../core/Class"),util=require("../util/util"),Drawable=Class.create({constructor:function(i){this.init(i)},image:null,rect:null,init:function(i){var r=this,e=r.image;Drawable.isDrawable(i)?r.image=i:util.copy(r,i,!0);var a=r.image;if("string"==typeof a){if(!e||a!==e.getAttribute("src")){r.image=null;var t=new Image;return i.crossOrigin&&(t.crossOrigin=i.crossOrigin),t.onload=function(){t.onload=null,r.init(t)},void(t.src=a)}a=r.image=e}a&&!r.rect&&(r.rect=[0,0,a.width,a.height])},Statics:{isDrawable:function(i){if(!i||!i.tagName)return!1;var r=i.tagName.toLowerCase();return"img"===r||"canvas"===r||"video"===r}}});module.exports=Drawable;