/**
 * Hilo 1.1.7 for commonjs
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
var Drawable=require("./Drawable"),browser=require("../util/browser"),_cacheCanvas,_cacheContext,CacheMixin={_cacheDirty:!0,cache:function(a){(a||this._cacheDirty||!this.drawable)&&this.updateCache()},updateCache:function(){browser.supportCanvas&&(_cacheCanvas||(_cacheCanvas=document.createElement("canvas"),_cacheContext=_cacheCanvas.getContext("2d")),_cacheCanvas.width=this.width,_cacheCanvas.height=this.height,this._draw(_cacheContext),this.drawable=this.drawable||new Drawable,this.drawable.init({image:_cacheCanvas.toDataURL()}),this._cacheDirty=!1)},setCacheDirty:function(a){this._cacheDirty=a}};module.exports=CacheMixin;